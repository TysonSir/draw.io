<mxfile host="app.diagrams.net" modified="2020-04-13T10:01:16.089Z" agent="5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/80.0.3987.149 Safari/537.36" etag="_7iZdi6IbEshrRk-gTyP" version="12.9.11" type="github">
  <diagram id="0iGwgGr-Oi8jdjV9H6Ax" name="Page-1">
    <mxGraphModel dx="2489" dy="762" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="Dua-MCm0FBzaHcsmr25D-1" value="" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="-310" y="50" width="540" height="471" as="geometry" />
        </mxCell>
        <mxCell id="rj2z753RrD6WEbJDvLND-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="rj2z753RrD6WEbJDvLND-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-50" y="250" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rj2z753RrD6WEbJDvLND-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="rj2z753RrD6WEbJDvLND-1" target="rj2z753RrD6WEbJDvLND-16" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-200" y="440" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rj2z753RrD6WEbJDvLND-1" value="定时线程A" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-250" y="320" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="rj2z753RrD6WEbJDvLND-9" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="rj2z753RrD6WEbJDvLND-21" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-50" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rj2z753RrD6WEbJDvLND-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="rj2z753RrD6WEbJDvLND-4" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="100" y="450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rj2z753RrD6WEbJDvLND-4" value="定时线程B" style="rounded=1;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="50" y="320" width="100" height="40" as="geometry" />
        </mxCell>
        <mxCell id="rj2z753RrD6WEbJDvLND-5" value="Redis" style="shape=cylinder;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;fillColor=#B50029;strokeColor=#6F0000;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="-83" y="160" width="70" height="80" as="geometry" />
        </mxCell>
        <mxCell id="rj2z753RrD6WEbJDvLND-12" value="List队列" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=1" parent="1" vertex="1">
          <mxGeometry x="60" y="190" width="90" height="20" as="geometry" />
        </mxCell>
        <mxCell id="rj2z753RrD6WEbJDvLND-13" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="rj2z753RrD6WEbJDvLND-5" target="rj2z753RrD6WEbJDvLND-12" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="rj2z753RrD6WEbJDvLND-15" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="rj2z753RrD6WEbJDvLND-14" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-50" y="370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rj2z753RrD6WEbJDvLND-14" value="send" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="80" y="450" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="rj2z753RrD6WEbJDvLND-20" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-50" y="410" as="sourcePoint" />
            <mxPoint x="-50" y="350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rj2z753RrD6WEbJDvLND-16" value="send" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;" parent="1" vertex="1">
          <mxGeometry x="-220" y="450" width="40" height="40" as="geometry" />
        </mxCell>
        <mxCell id="rj2z753RrD6WEbJDvLND-21" value="" style="pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=#3A5431;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;outlineConnect=0;align=center;shape=mxgraph.office.security.lock_protected;fillColor=#6d8764;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="-60" y="270" width="20" height="22" as="geometry" />
        </mxCell>
        <mxCell id="rj2z753RrD6WEbJDvLND-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="rj2z753RrD6WEbJDvLND-4" target="rj2z753RrD6WEbJDvLND-21" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-50" y="240" as="targetPoint" />
            <mxPoint x="50" y="340" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rj2z753RrD6WEbJDvLND-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="rj2z753RrD6WEbJDvLND-16" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="-180" y="470" as="sourcePoint" />
            <mxPoint x="-50" y="432" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="rj2z753RrD6WEbJDvLND-29" value="&lt;font style=&quot;font-size: 30px&quot;&gt;&lt;b&gt;网关报警消息基础模型示意图&lt;/b&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;shadow=0;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="-265" y="50" width="430" height="50" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-5" value="&lt;pre style=&quot;font-family: &amp;quot;source code pro&amp;quot; ; font-size: 10.5pt&quot;&gt;WxMonitorThread&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#008a00;strokeColor=#005700;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="-540" y="600" width="240" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-62" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-6" target="Dua-MCm0FBzaHcsmr25D-60">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-6" value="&lt;pre style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;&lt;span style=&quot;font-style: italic&quot;&gt;executorService&lt;/span&gt;.scheduleAtFixedRate(10,5,TimeUnit.&lt;span style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt ; font-style: italic&quot;&gt;SECONDS&lt;/span&gt;)&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#60a917;strokeColor=#2D7600;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="-460" y="680" width="450" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-19" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-7" target="Dua-MCm0FBzaHcsmr25D-8">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-7" value="&lt;pre style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;redisService&lt;/span&gt;.popList(Constants.&lt;span style=&quot;font-style: italic&quot;&gt;GW_MSG_DATA_ERROR_QUEUE&lt;/span&gt;)&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-420" y="730" width="480" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-42" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-8" target="Dua-MCm0FBzaHcsmr25D-41">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-8" value="&lt;pre style=&quot;font-family: &amp;quot;source code pro&amp;quot; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;wxErrorAlarmService&lt;/span&gt;.pushFaultMsgToWxUser&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="90" y="730" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-22" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-9" target="Dua-MCm0FBzaHcsmr25D-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-9" value="&lt;pre style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;redisService&lt;/span&gt;.popList(Constants.GW_MSG_DATA_WARN_QUEUE)&lt;br&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-420" y="770" width="480" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-50" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-10">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="540" y="785" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-10" value="&lt;pre style=&quot;font-family: &amp;quot;source code pro&amp;quot; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;wxErrorAlarmService&lt;/span&gt;.pushDifficultMsgToWxUser&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="90" y="770" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-23" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-11" target="Dua-MCm0FBzaHcsmr25D-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-11" value="&lt;pre style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;redisService&lt;/span&gt;.popList(Constants.GW_MSG_DATA_CI_QUEUE)&lt;br&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-420" y="810" width="480" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-49" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-12">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="540" y="825" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-12" value="&lt;pre style=&quot;font-family: &amp;quot;source code pro&amp;quot; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;wxErrorAlarmService&lt;/span&gt;.pushFaultMsgToWxUser&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="90" y="810" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-24" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-13" target="Dua-MCm0FBzaHcsmr25D-14">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-13" value="&lt;pre style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;redisService&lt;/span&gt;.popList(Constants.GW_MSG_DATA_FAULT_QUEUE)&lt;br&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-420" y="850" width="480" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-14">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="540" y="865" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-14" value="&lt;pre style=&quot;font-family: &amp;quot;source code pro&amp;quot; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;wxErrorAlarmService&lt;/span&gt;.pushShutdownMsgToWxUser&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="90" y="850" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-25" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-15" target="Dua-MCm0FBzaHcsmr25D-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-15" value="&lt;pre style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;redisService&lt;/span&gt;.popList(Constants.GW_MSG_DATA_AUTO_CI_QUEUE)&lt;br&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-420" y="889" width="480" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-16">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="540" y="905" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-16" value="&lt;pre style=&quot;font-family: &amp;quot;source code pro&amp;quot; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;wxErrorAlarmService&lt;/span&gt;.pushAutoCIMsgToWxUser&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="90" y="890" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-26" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-17" target="Dua-MCm0FBzaHcsmr25D-18">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-17" value="&lt;pre style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;redisService&lt;/span&gt;.popList(Constants.GW_MSG_DATA_FEEDBACK_QUEUE)&lt;br&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-420" y="930" width="480" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-18" value="&lt;pre style=&quot;font-family: &amp;quot;source code pro&amp;quot; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;wxErrorAlarmService&lt;/span&gt;.pushFeedBackMsgToWxUser&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="90" y="930" width="360" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-61" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-27" target="Dua-MCm0FBzaHcsmr25D-59">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-27" value="&lt;pre style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;&lt;span style=&quot;font-style: italic&quot;&gt;executorService&lt;/span&gt;.scheduleAtFixedRate(5&lt;span style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;200&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;, &lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;TimeUnit.&lt;/span&gt;&lt;span style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt ; font-style: italic&quot;&gt;MILLISECONDS&lt;/span&gt;)&lt;br&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#60a917;strokeColor=#2D7600;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="-460" y="1000" width="480" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-36" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-28" target="Dua-MCm0FBzaHcsmr25D-29">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-28" value="&lt;pre style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;redisService&lt;/span&gt;.popList(Constants.GW_MSG_DATA_IN_STORE_QUEUE)&lt;br&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-420" y="1055" width="580" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.561;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-29" target="Dua-MCm0FBzaHcsmr25D-41">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-29" value="&lt;pre style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;wxErrorAlarmService&lt;/span&gt;.pushInStoreMsgToWxUser&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="190" y="1055" width="410" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-37" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-30" target="Dua-MCm0FBzaHcsmr25D-31">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-30" value="&lt;pre style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;redisService&lt;/span&gt;.popList(Constants.GW_MSG_DATA_HANDLING_PRODUCT_QUEUE)&lt;br&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-420" y="1100" width="580" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-31">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="760" y="1070" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-31" value="&lt;pre style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;wxErrorAlarmService&lt;/span&gt;.pushHandlingExceptionMsgToWxUser&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="190" y="1100" width="410" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-38" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-32" target="Dua-MCm0FBzaHcsmr25D-33">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-32" value="&lt;pre style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;redisService&lt;/span&gt;.popList(Constants.GW_MSG_DATA_HANDLING_IN_STORE_QUEUE)&lt;br&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-420" y="1140" width="580" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-53" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-33">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="760" y="1110" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-33" value="&lt;pre style=&quot;font-family: &amp;quot;source code pro&amp;quot; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;wxErrorAlarmService&lt;/span&gt;.pushFaultMsgToWxUser&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="190" y="1140" width="410" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-39" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-34" target="Dua-MCm0FBzaHcsmr25D-35">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-34" value="&lt;pre style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;redisService&lt;/span&gt;.popList(Constants.GW_MSG_DATA_NO_SETTLE_SHOPPING_CART_QUEUE)&lt;br&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-420" y="1185" width="580" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-35">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="760" y="1150" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-35" value="&lt;pre style=&quot;font-family: &amp;quot;source code pro&amp;quot; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;wxErrorAlarmService&lt;/span&gt;.pushFaultMsgToWxUser&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" vertex="1" parent="1">
          <mxGeometry x="190" y="1184.5" width="410" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-40" value="&lt;pre style=&quot;font-family: &amp;quot;source code pro&amp;quot; ; font-size: 10.5pt&quot;&gt;WxMonitorThread&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontStyle=1;fillColor=#008a00;strokeColor=#005700;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="-540" y="600" width="240" height="70" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-58" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="Dua-MCm0FBzaHcsmr25D-41" target="Dua-MCm0FBzaHcsmr25D-55">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-41" value="&lt;pre style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;pushMsgToWxUser&lt;/span&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=center;fillColor=#647687;strokeColor=#314354;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="630" y="910" width="230" height="90" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-55" value="&lt;pre style=&quot;font-family: &amp;quot;source code pro&amp;quot; ; font-size: 10.5pt&quot;&gt;&lt;span&gt;for &lt;/span&gt;(String openId : userOpenIdList) {&lt;br&gt;    Long index = &lt;span&gt;this&lt;/span&gt;.&lt;span&gt;redisService&lt;/span&gt;.getMapIncr(Constants.&lt;span style=&quot;font-style: italic&quot;&gt;WX_NOTICE_INCR&lt;/span&gt;&lt;span&gt;, &lt;/span&gt;openId.concat(&lt;span&gt;&quot;_&quot;&lt;/span&gt;).concat(date))&lt;span&gt;;&lt;br&gt;&lt;/span&gt;&lt;span&gt;    &lt;/span&gt;String indexStr = String.&lt;span style=&quot;font-style: italic&quot;&gt;format&lt;/span&gt;(&lt;span&gt;&quot;[%d]&quot;&lt;/span&gt;&lt;span&gt;, &lt;/span&gt;index)&lt;span&gt;;&lt;br&gt;&lt;/span&gt;&lt;span&gt;&lt;br&gt;&lt;/span&gt;&lt;span&gt;    if &lt;/span&gt;(firstCircle) {&lt;br&gt;        Map&amp;lt;String&lt;span&gt;, &lt;/span&gt;Object&amp;gt; first = (Map&amp;lt;String&lt;span&gt;, &lt;/span&gt;Object&amp;gt;) data.get(&lt;span&gt;&quot;first&quot;&lt;/span&gt;)&lt;span&gt;;&lt;br&gt;&lt;/span&gt;&lt;span&gt;        &lt;/span&gt;String value = first.get(&lt;span&gt;&quot;value&quot;&lt;/span&gt;).toString()&lt;span&gt;;&lt;br&gt;&lt;/span&gt;&lt;span&gt;        &lt;/span&gt;first.put(&lt;span&gt;&quot;value&quot;&lt;/span&gt;&lt;span&gt;, &lt;/span&gt;indexStr.concat(value))&lt;span&gt;;&lt;br&gt;&lt;/span&gt;&lt;span&gt;        &lt;/span&gt;data.put(&lt;span&gt;&quot;first&quot;&lt;/span&gt;&lt;span&gt;, &lt;/span&gt;first)&lt;span&gt;;&lt;br&gt;&lt;/span&gt;&lt;span&gt;        &lt;/span&gt;firstCircle = &lt;span&gt;false;&lt;br&gt;&lt;/span&gt;&lt;span&gt;    &lt;/span&gt;}&lt;br&gt;    WxHttpClient.&lt;span style=&quot;font-style: italic&quot;&gt;sendTpMsg&lt;/span&gt;(token&lt;span&gt;, &lt;/span&gt;openId&lt;span&gt;, &lt;/span&gt;tpId&lt;span&gt;, &lt;/span&gt;jumpUrl&lt;span&gt;, &lt;/span&gt;data)&lt;span&gt;;&lt;br&gt;&lt;/span&gt;}&lt;/pre&gt;" style="text;html=1;strokeColor=#36393d;fillColor=#f9f7ed;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontStyle=0" vertex="1" parent="1">
          <mxGeometry x="930" y="845" width="730" height="220" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-59" value="&lt;pre style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;&lt;pre style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;RLock lock = &lt;span&gt;redissonClient&lt;/span&gt;.getLock(&lt;span style=&quot;font-style: italic&quot;&gt;LOCK_WX_ALARM_KEY_OP&lt;/span&gt;)&lt;span&gt;;&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="80" y="1000" width="445" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Dua-MCm0FBzaHcsmr25D-60" value="&lt;pre style=&quot;font-family: &amp;#34;source code pro&amp;#34; ; font-size: 10.5pt&quot;&gt;RLock lock = &lt;span&gt;redissonClient&lt;/span&gt;.getLock(&lt;span style=&quot;font-style: italic&quot;&gt;LOCK_WX_ALARM_KEY&lt;/span&gt;)&lt;span&gt;;&lt;/span&gt;&lt;/pre&gt;" style="rounded=1;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="1">
          <mxGeometry x="50" y="680" width="425" height="40" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
